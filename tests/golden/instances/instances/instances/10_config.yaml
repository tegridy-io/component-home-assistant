apiVersion: v1
data:
  configuration.yaml: |-
    # Loads default set of integrations. Do not remove.
    default_config:

    # Home Assistat configuration.
    http:
      use_x_forwarded_for: true
      trusted_proxies:
      - 10.128.0.0/14
      ip_ban_enabled: true
      login_attempts_threshold: 5

    # Enable websockets.
    websocket_api:

    # Enable prometheus
    prometheus:
      requires_auth: false

    # Load frontend themes from the themes folder
    frontend:
      themes: !include_dir_merge_named themes
    automation: !include automations.yaml
    script: !include scripts.yaml
    scene: !include scenes.yaml
kind: ConfigMap
metadata:
  annotations: {}
  labels:
    app.kubernetes.io/instance: instances
    app.kubernetes.io/managed-by: commodore
    app.kubernetes.io/name: home-assistant
    name: home-assistant-config
  name: home-assistant-config
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  annotations:
    volume.beta.kubernetes.io/storage-class: ''
  labels:
    app.kubernetes.io/instance: instances
    app.kubernetes.io/managed-by: commodore
    app.kubernetes.io/name: home-assistant
    name: home-assistant-config
  name: home-assistant-config
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 10Gi
  storageClassName: ''
